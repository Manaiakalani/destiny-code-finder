@tailwind base;
@tailwind components;
@tailwind utilities;

/* Destiny 2 Subclass Design System */
/* Primary: VOID (Control & Mystery) | States: ARC (New), SOLAR (Active), STASIS (Expired), STRAND (Success) */
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');

@layer base {
  :root {
    /* VOID Theme - Primary */
    --background: 270 50% 4%;
    --foreground: 270 20% 95%;

    --card: 270 45% 7%;
    --card-foreground: 270 20% 95%;

    --popover: 270 50% 8%;
    --popover-foreground: 270 20% 95%;

    /* VOID Primary */
    --primary: 270 56% 35%;
    --primary-foreground: 270 20% 95%;

    /* Deep VOID secondary */
    --secondary: 270 70% 15%;
    --secondary-foreground: 270 20% 90%;

    --muted: 270 30% 12%;
    --muted-foreground: 270 15% 55%;

    /* VOID Accent */
    --accent: 275 100% 68%;
    --accent-foreground: 270 50% 4%;

    /* STASIS - Expired states */
    --destructive: 195 100% 75%;
    --destructive-foreground: 195 80% 10%;

    /* STRAND - Success states */
    --success: 145 100% 55%;
    --success-foreground: 145 80% 10%;

    /* SOLAR - Warning/Active glow */
    --warning: 25 100% 50%;
    --warning-foreground: 25 80% 10%;

    /* ARC - New/Energy states */
    --arc: 185 100% 50%;
    --arc-foreground: 185 80% 10%;

    /* SOLAR colors */
    --solar: 25 100% 50%;
    --solar-secondary: 5 70% 47%;
    --solar-accent: 45 100% 71%;

    /* STASIS colors */
    --stasis: 195 100% 75%;
    --stasis-secondary: 195 40% 95%;
    --stasis-accent: 200 80% 15%;

    /* STRAND colors */
    --strand: 145 100% 55%;
    --strand-secondary: 165 100% 12%;
    --strand-accent: 110 100% 75%;

    --border: 270 40% 18%;
    --input: 270 45% 12%;
    --ring: 275 100% 68%;

    --radius: 0.5rem;

    --font-heading: 'Orbitron', sans-serif;
    --font-body: 'Rajdhani', sans-serif;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-body);
    font-weight: 500;
    letter-spacing: 0.01em;
    /* VOID gradient background */
    background: 
      radial-gradient(ellipse at 20% 0%, hsl(270 60% 12%) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 100%, hsl(270 50% 8%) 0%, transparent 50%),
      radial-gradient(ellipse at 50% 50%, hsl(270 50% 4%) 0%, hsl(270 60% 2%) 100%);
    background-attachment: fixed;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    letter-spacing: 0.08em;
  }
}

@layer components {
  /* VOID glassmorphism */
  .glass-card {
    @apply bg-card/70 backdrop-blur-md border border-border/50 rounded-lg;
    box-shadow: 
      inset 0 1px 0 0 hsl(var(--accent) / 0.05),
      0 4px 24px -4px hsl(270 60% 3% / 0.6);
  }

  /* Active card with SOLAR glow */
  .glass-card-highlight {
    @apply glass-card;
    border-color: hsl(var(--solar) / 0.4);
    box-shadow: 
      inset 0 1px 0 0 hsl(var(--solar) / 0.15),
      0 0 40px -8px hsl(var(--solar) / 0.25),
      0 4px 24px -4px hsl(270 60% 3% / 0.5);
  }

  .code-text {
    font-family: 'Orbitron', monospace;
    letter-spacing: 0.18em;
    font-weight: 600;
  }

  /* STRAND - Active/Success status */
  .status-active {
    @apply border;
    background: hsl(var(--strand) / 0.15);
    color: hsl(var(--strand));
    border-color: hsl(var(--strand) / 0.5);
    text-shadow: 0 0 12px hsl(var(--strand) / 0.6);
  }

  /* STASIS - Expired status (cold, frozen) */
  .status-expired {
    @apply border;
    background: hsl(var(--stasis) / 0.1);
    color: hsl(var(--stasis) / 0.7);
    border-color: hsl(var(--stasis) / 0.3);
  }

  /* VOID - Unknown status */
  .status-unknown {
    @apply border;
    background: hsl(var(--accent) / 0.1);
    color: hsl(var(--accent) / 0.8);
    border-color: hsl(var(--accent) / 0.3);
  }

  /* ARC - New badge styling */
  .badge-new {
    @apply border;
    background: hsl(var(--arc) / 0.2);
    color: hsl(var(--arc));
    border-color: hsl(var(--arc) / 0.5);
    text-shadow: 0 0 8px hsl(var(--arc) / 0.6);
  }

  /* VOID hover glow (300-450ms, ease-in-out) */
  .hover-glow {
    @apply transition-all duration-300 ease-in-out;
  }

  .hover-glow:hover {
    box-shadow: 
      0 0 50px -12px hsl(var(--accent) / 0.35),
      0 8px 32px -8px hsl(270 60% 3% / 0.7);
    border-color: hsl(var(--accent) / 0.5);
    transform: translateY(-2px);
  }

  /* SOLAR radiant button */
  .btn-solar {
    @apply transition-all duration-300;
    background: linear-gradient(135deg, hsl(var(--solar)) 0%, hsl(var(--solar-secondary)) 100%);
    box-shadow: 0 0 20px -4px hsl(var(--solar) / 0.4);
  }

  .btn-solar:hover {
    box-shadow: 
      0 0 30px -2px hsl(var(--solar) / 0.6),
      0 0 60px -8px hsl(var(--solar-accent) / 0.3);
    transform: scale(1.02);
  }

  /* ARC energy button */
  .btn-arc {
    @apply transition-all duration-150;
    background: linear-gradient(120deg, hsl(var(--arc)) 0%, hsl(185 80% 40%) 100%);
    box-shadow: 0 0 15px -4px hsl(var(--arc) / 0.5);
  }

  .btn-arc:hover {
    box-shadow: 0 0 25px -2px hsl(var(--arc) / 0.7);
  }

  /* VOID gradient background */
  .void-gradient {
    background: linear-gradient(180deg, 
      hsl(270 70% 8%) 0%, 
      hsl(270 56% 20%) 100%
    );
  }

  /* SOLAR radial gradient */
  .solar-gradient {
    background: radial-gradient(circle at center,
      hsl(var(--solar-accent)) 0%,
      hsl(var(--solar)) 40%,
      hsl(var(--solar-secondary)) 100%
    );
  }

  /* ARC linear gradient */
  .arc-gradient {
    background: linear-gradient(120deg,
      hsl(var(--arc)) 0%,
      hsl(195 100% 55%) 100%
    );
  }

  /* STRAND gradient */
  .strand-gradient {
    background: linear-gradient(110deg,
      hsl(var(--strand)) 0%,
      hsl(160 100% 45%) 100%
    );
  }

  /* STASIS gradient */
  .stasis-gradient {
    background: linear-gradient(135deg,
      hsl(var(--stasis-secondary)) 0%,
      hsl(var(--stasis)) 100%
    );
  }

  .text-glow {
    text-shadow: 0 0 25px hsl(var(--accent) / 0.6);
  }

  .text-glow-solar {
    text-shadow: 0 0 25px hsl(var(--solar) / 0.6);
  }

  .text-glow-arc {
    text-shadow: 0 0 20px hsl(var(--arc) / 0.7);
  }

  .text-glow-strand {
    text-shadow: 0 0 20px hsl(var(--strand) / 0.6);
  }

  /* VOID divider */
  .divider-glow {
    height: 1px;
    background: linear-gradient(90deg, 
      transparent 0%, 
      hsl(var(--accent) / 0.5) 50%, 
      transparent 100%
    );
  }

  /* Geometric pattern (8px grid) */
  .triangle-pattern {
    background-image: url("data:image/svg+xml,%3Csvg width='48' height='48' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 4L44 40H4z' fill='%23B55CFF' fill-opacity='0.02'/%3E%3C/svg%3E");
    background-size: 48px 48px;
  }

  /* === SUBCLASS MOTION ANIMATIONS === */

  /* VOID animations (300-450ms, ease-in-out, blur/materialize) */
  @keyframes void-materialize {
    0% { opacity: 0; transform: scale(0.95); filter: blur(8px); }
    100% { opacity: 1; transform: scale(1); filter: blur(0); }
  }

  @keyframes void-collapse {
    0% { opacity: 1; transform: scale(1); filter: blur(0); }
    100% { opacity: 0; transform: scale(0.9); filter: blur(8px); }
  }

  /* ARC animations (120-180ms, snap, pulse/flicker) */
  @keyframes arc-pulse {
    0%, 100% { box-shadow: 0 0 15px hsl(var(--arc) / 0.3); }
    50% { box-shadow: 0 0 25px hsl(var(--arc) / 0.6); }
  }

  @keyframes arc-flicker {
    0%, 100% { opacity: 1; }
    10%, 30%, 50%, 70%, 90% { opacity: 0.85; }
    20%, 40%, 60%, 80% { opacity: 1; }
  }

  @keyframes arc-jitter {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-1px); }
    75% { transform: translateX(1px); }
  }

  /* SOLAR animations (250-350ms, ease-in-out, glow/bloom) */
  @keyframes solar-bloom {
    0% { opacity: 0; transform: scale(0.8); box-shadow: 0 0 0 hsl(var(--solar) / 0); }
    50% { box-shadow: 0 0 40px hsl(var(--solar) / 0.4); }
    100% { opacity: 1; transform: scale(1); box-shadow: 0 0 20px hsl(var(--solar) / 0.2); }
  }

  @keyframes solar-flare {
    0%, 100% { box-shadow: 0 0 20px hsl(var(--solar) / 0.3); }
    50% { box-shadow: 0 0 40px hsl(var(--solar) / 0.5), 0 0 60px hsl(var(--solar-accent) / 0.2); }
  }

  /* STASIS animations (200-300ms, linear, freeze/shatter) */
  @keyframes stasis-freeze {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); filter: saturate(0.7); }
  }

  /* STRAND animations (250-400ms, spring/elastic, follow-through) */
  @keyframes strand-tether {
    0% { transform: translateY(10px); opacity: 0; }
    60% { transform: translateY(-3px); }
    100% { transform: translateY(0); opacity: 1; }
  }

  @keyframes strand-expand {
    0% { transform: scale(0.9); opacity: 0; }
    70% { transform: scale(1.05); }
    100% { transform: scale(1); opacity: 1; }
  }

  /* Float animation */
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }

  /* Fade in */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Shimmer effect */
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  /* Animation classes */
  .animate-void-materialize {
    animation: void-materialize 0.4s ease-in-out;
  }

  .animate-arc-pulse {
    animation: arc-pulse 1.5s ease-out infinite;
  }

  .animate-arc-flicker {
    animation: arc-flicker 0.15s ease-out;
  }

  .animate-solar-bloom {
    animation: solar-bloom 0.3s ease-in-out;
  }

  .animate-solar-flare {
    animation: solar-flare 2s ease-in-out infinite;
  }

  .animate-stasis-freeze {
    animation: stasis-freeze 0.25s linear;
  }

  .animate-strand-tether {
    animation: strand-tether 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .animate-strand-expand {
    animation: strand-expand 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .animate-float {
    animation: float 5s ease-in-out infinite;
  }

  .animate-fade-in {
    animation: fade-in 0.4s ease-out;
  }

  .shimmer {
    background: linear-gradient(90deg, 
      transparent 0%, 
      hsl(var(--accent) / 0.15) 50%, 
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 3s ease-in-out infinite;
  }

  /* Subclass-specific hover states */
  .hover-arc:hover {
    box-shadow: 0 0 30px -8px hsl(var(--arc) / 0.5);
    border-color: hsl(var(--arc) / 0.5);
  }

  .hover-solar:hover {
    box-shadow: 0 0 35px -8px hsl(var(--solar) / 0.4);
    border-color: hsl(var(--solar) / 0.5);
  }

  .hover-strand:hover {
    box-shadow: 0 0 30px -8px hsl(var(--strand) / 0.4);
    border-color: hsl(var(--strand) / 0.5);
  }

  .hover-stasis:hover {
    box-shadow: 0 0 25px -8px hsl(var(--stasis) / 0.4);
    border-color: hsl(var(--stasis) / 0.4);
  }
}